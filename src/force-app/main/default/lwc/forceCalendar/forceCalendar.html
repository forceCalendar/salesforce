<template>
    <div class="slds-card slds-p-around_medium calendar-wrapper">
        <!-- Loading Spinner -->
        <template if:true={showSpinner}>
            <lightning-spinner
                alternative-text="Loading events..."
                size="large"
                variant="brand">
            </lightning-spinner>
        </template>

        <!-- Error Message -->
        <template if:true={hasError}>
            <div class="slds-box slds-theme_shade slds-theme_alert-texture slds-m-bottom_medium" role="alert">
                <p class="slds-text-color_error">
                    <lightning-icon
                        icon-name="utility:error"
                        variant="error"
                        size="small"
                        class="slds-m-right_x-small">
                    </lightning-icon>
                    {error}
                </p>
                <lightning-button
                    label="Retry"
                    onclick={refreshEvents}
                    variant="base"
                    class="slds-m-top_small">
                </lightning-button>
            </div>
        </template>

        <!-- Calendar Container -->
        <div class="calendar-container" lwc:dom="manual"></div>

        <!-- Optional: Refresh Button -->
        <div class="slds-m-top_small slds-text-align_right">
            <lightning-button-icon
                icon-name="utility:refresh"
                alternative-text="Refresh Events"
                title="Refresh Events"
                onclick={refreshEvents}
                variant="border-filled">
            </lightning-button-icon>
        </div>
    </div>
</template>